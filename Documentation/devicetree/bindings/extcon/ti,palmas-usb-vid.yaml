# SPDX-License-Identifier: GPL-2.0-only
%YAML 1.2
---
$id: http://devicetree.org/schemas/extcon/ti,palmas-usb-vid.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Texas Instruments Palmas family of Power-Management ICs (extcon)

maintainers:
  - MyungJoo Ham <myungjoo.ham@samsung.com>
  - Chanwoo Choi <cw00.choi@samsung.com>

properties:
  compatible:
    oneOf:
      - const: ti,palmas-usb-vid
      - const: ti,twl6035-usb-vid
      - const: ti,palmas-usb
        deprecated: true
      - const: ti,twl6035-usb
        deprecated: true

  ti,wakeup:
    $ref: /schemas/types.yaml#/definitions/flag
    description: To enable the wakeup comparator in probe

  ti,enable-id-detection:
    $ref: /schemas/types.yaml#/definitions/flag
    description: Perform ID detection. If id-gpios is specified it performs id-detection using
      GPIO else using OTG core.

  ti,enable-vbus-detection:
    $ref: /schemas/types.yaml#/definitions/flag
    description: Perform VBUS detection.

  vbus-gpios:
    description: GPIO for VBUS detection. See GPIO bindings.

  id-gpios:
    description: GPIO for GPIO ID detection. See GPIO bindings.

  debounce-delay-ms:
    description: debounce delay for GPIO ID pin in milliseconds

additionalProperties: false

required:
  - compatible

examples:
  - |
    i2c {
      #address-cells = <1>;
      #size-cells = <0>;

      pmic@38 {
        compatible = "ti,tps65913", "ti,palmas";
        reg = <0x38>;

        #interrupt-cells = <2>;
        interrupt-controller;

        palmas_usb {
          compatible = "ti,palmas-usb-vid";
          ti,wakeup;
        };
      };
    };
