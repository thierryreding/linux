# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/sound/nvidia,tegra30-hda.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: NVIDIA Tegra30 HDA controller

maintainers:
  - Thierry Reding <thierry.reding@nvidia.com>
  - Jon Hunter <jonathanh@nvidia.com>

properties:
  compatible:
    oneOf:
      - description: NVIDIA Tegra30
        const: nvidia,tegra30-hda

      - description: NVIDIA Tegra114
        items:
          - const: nvidia,tegra114-hda
          - const: nvidia,tegra30-hda

      - description: NVIDIA Tegra124
        items:
          - const: nvidia,tegra124-hda
          - const: nvidia,tegra30-hda

      - description: NVIDIA Tegra132
        items:
          - const: nvidia,tegra132-hda
          - const: nvidia,tegra124-hda
          - const: nvidia,tegra30-hda

      - description: NVIDIA Tegra210
        items:
          - const: nvidia,tegra210-hda
          - const: nvidia,tegra30-hda

      - description: NVIDIA Tegra186
        items:
          - const: nvidia,tegra186-hda
          - const: nvidia,tegra30-hda

      - description: NVIDIA Tegra194
        items:
          - const: nvidia,tegra194-hda
          - const: nvidia,tegra30-hda

  reg:
    description: base address and size of the register region for the HDA
      controller

  interrupts:
    description: interrupt from the HDA controller

  clocks:
    items:
      - description: The main HDA controller clock
      - description: The clock for the logic feeding data from HDA to HDMI.
      - description: The clock for the logic feeding data from HDA to codec.

  clock-names:
    contains:
      enum:
        - hda
        - hda2hdmi
        - hda2codec_2x

  resets:
    items:
      - description: Reset for the HDA controller.
      - description: Reset for the HDA to HDMI logic.
      - description: Reset for the HDA to codec logic.

  reset-names:
    contains:
      enum:
        - hda
        - hda2hdmi
        - hda2codec_2x

  interconnects:
    description: Description of the interconnect paths for the HDA controller;
      see ../interconnect/interconnect.txt for details.
    $ref: /schemas/types.yaml#/definitions/phandle-array

  interconnect-names:
    description: A list of names identifying each entry listed in the
      "interconnects" property.
    $ref: /schemas/types.yaml#/definitions/non-unique-string-array

  nvidia,model:
    description: The user-visible name of this sound complex. Since the
      property is optional, legacy boards can use default name provided in HDA
      driver.
    $ref: /schemas/types.yaml#/definitions/string

required:
  - compatible
  - reg
  - interrupts
  - clocks
  - clock-names
  - resets
  - reset-names

examples:
  - |
    #include <dt-bindings/interrupt-controller/arm-gic.h>
    #include <dt-bindings/clock/tegra124-car.h>

    hda@70030000 {
        compatible = "nvidia,tegra124-hda", "nvidia,tegra30-hda";
        reg = <0x0 0x70030000 0x0 0x10000>;
        interrupts = <GIC_SPI 81 IRQ_TYPE_LEVEL_HIGH>;
        clocks = <&tegra_car TEGRA124_CLK_HDA>,
                 <&tegra_car TEGRA124_CLK_HDA2HDMI>,
                 <&tegra_car TEGRA124_CLK_HDA2CODEC_2X>;
        clock-names = "hda", "hda2hdmi", "hda2codec_2x";
        resets = <&tegra_car 125>, /* hda */
                 <&tegra_car 128>, /* hda2hdmi */
                 <&tegra_car 111>; /* hda2codec_2x */
        reset-names = "hda", "hda2hdmi", "hda2codec_2x";
        nvidia,model = "jetson-tk1-hda";
    };
