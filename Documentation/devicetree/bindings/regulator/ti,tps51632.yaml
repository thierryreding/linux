# SPDX-License-Identifier: GPL-2.0-only
%YAML 1.2
---
$id: http://devicetree.org/schemas/regulator/ti,tps51632.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Texas Instruments TPS51632 voltage regulator

maintainers:
  - Mark Brown <broonie@kernel.org>

properties:
  compatible:
    const: ti,tps51632

  reg:
    maxItems: 1

  ti,enable-pwm-dvfs:
    $ref: /schemas/types.yaml#/definitions/flag
    description: Enable the DVFS voltage control through the PWM interface.

  ti,dvfs-step-20mV:
    $ref: /schemas/types.yaml#/definitions/flag
    description: The 20 mV step voltage when PWM DVFS enabled. Missing this will set 10 mV step
      voltage in PWM DVFS mode. In normal mode, the voltage step is 10 mV as per datasheet.

allOf:
  - $ref: regulator.yaml

unevaluatedProperties: false

required:
  - compatible
  - reg

examples:
  - |
    i2c {
      #address-cells = <1>;
      #size-cells = <0>;

      regulator@43 {
        compatible = "ti,tps51632";
        reg =  <0x43>;
        regulator-name = "tps51632-vout";
        regulator-min-microvolt = <500000>;
        regulator-max-microvolt = <1500000>;
        regulator-boot-on;
        ti,enable-pwm-dvfs;
        ti,dvfs-step-20mV;
      };
    };
